var TemplateSelector;function format(t,e){return $.each(e,(function(e,a){t=t.replace(new RegExp("\\{"+e+"\\}","g"),a)})),t}!function(t){TemplateSelector={init:function(){TemplateSelector.binds()},binds:function(){t(".product-template-item a").on("click",TemplateSelector.__setProductTemplateValues)},__setProductTemplateValues:function(e){e.preventDefault();var a=t(e.target).parent().data("template");t.each(a,(function(e,a){"chOnly"===e&&(e+="1");var r=t("#"+e);r.val(a),"chOnly1"===e&&!0===a?r.attr("checked","checked"):r.removeAttr("checked")}))}}}(jQuery),$(document).ready((function(){TemplateSelector.init();var t={enableTime:!0,altInput:!0,altFormat:"F j, Y H:i",dateFormat:"Y-m-dTH:i:S",time_24hr:!0,locale:{firstDayOfWeek:1}};$("#sellStart").flatpickr(t),$("#sellEnd").flatpickr(t),$("#q").autocomplete({serviceUrl:"/events/api/v1/products/search/unused",onSelect:function(t){!function(t,e){const a='<input type="hidden" id="products{0}" name="products[{1}]" value="{2}">',r="<tr><td><span class='fa fa-exclamation-triangle' data-toggle='tooltip' data-placement='right' title='Do not forget to update the event!'></span> {0}</td><td style='width: 40px;'><a class='btn btn-xs btn-danger remove-product text-white' data-product-id='{1}'><i class='fa fa-remove'></i></a></td></tr>";var n=$("#products"),o=n.children().length;$("#productsTable").append(format(r,[e,t])),n.append(format(a,[o,o,t])),$("#noProducts").remove(),$((function(){$('[data-toggle="tooltip"]').tooltip()}))}(t.data,t.value),$(this).val(""),$("#addProduct").modal("hide")}}),$(".remove-product").on("click",(function(t){t.preventDefault();var e=$("#products"),a=e.children().length,r=$(this).data("product-id"),n=e.find(":input[value='"+r+"']"),o=n.attr("id").replace("products","");n.remove(),$(this).parent().parent().remove();for(var c=o;c<a;c++){var l=e.find("#products"+c);l.attr("id","products"+(c-1)),l.attr("name","products["+(c-1)+"]")}}))}));